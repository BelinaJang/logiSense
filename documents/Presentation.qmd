---
format: 
  revealjs:
    theme: "white"
    slide-number: c/t
    code-copy: true
    center-title-slide: false
    include-in-header: heading-meta.html
    code-link: true
    code-overflow: wrap
    highlight-style: a11y
    height: 1080
    width: 1920
execute: 
  eval: true
  echo: true
---

<h1> `logiSense` - Interpreting Logistic Regression Results </h1>

<h2> Challenges and Solutions for Non-Statisticians </h2>

<div style="height: 10px;"></div>

<hr>

<div style="height: 20px;"></div>

<h3> Anna (Jingxuan) He, Belina Jang, Vanessa Liao, Tina (Zhaoyu) Tan, & Victoria Truong </h3>

<div style="height: 10px;"></div>

<h4> December 2, 2024 </h4>
<br>

<h3>
  <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" 
       style="width: 60px; vertical-align: middle; margin-right: 5px;">
  <a href="https://github.com/BelinaJang/logiSense">github.com/BelinaJang/logiSense</a>
</h3>


# Introduction

- Essential for evaluating the strength of associations between binary outcomes and independent variables (categorical, continuous)

![](https://raw.githubusercontent.com/BelinaJang/logiSense/main/images/introduction.png){fig-align="center" height="800"}
  
## Logistic Regression Formula
  

$$
\text{logit}(p) = \log\left(\frac{p}{1-p}\right) = \beta_0 + \sum_{i=1}^{k} \beta_i X_i 
$$
Where:

- $\text{logit}(p)$ is the log-odds of the probability $p$
- $p$ is the probability of the outcome occurring  
- $\beta_0$ is the intercept
- $\beta_i$ is the coefficient of the predictors
- $X_i$ is the predictor variable $(i = 1, 2, \dots, k)$

&nbsp;&nbsp;&nbsp;&nbsp;


## Logistic Regression Formula (with One Two-Way Interaction)
  

$$
\text{logit}(p) = \log\left(\frac{p}{1-p}\right) = \beta_0 + \sum_{i=1}^{k} \beta_i X_i + \color{magenta}{\beta_{ij}(X_i \cdot X_j)}
$$
Where:

- $\text{logit}(p)$ is the log-odds of the probability $p$
- $p$ is the probability of the outcome occurring  
- $\beta_0$ is the intercept
- $\beta_i$ is the coefficient of the predictors
- $X_i$ is the predictor variable $(i = 1, 2, \dots, k)$

&nbsp;&nbsp;&nbsp;&nbsp;


<div style="color: magenta;">
For two-way interaction:

- $X_i, X_j$ are the predictor variables $(i \neq j)$  
- $\beta_{ij}$ is the coefficient for the interaction term between $X_i$ and $X_j$  
- $X_i \cdot X_j$ is the interaction term of predictors $X_i$ and $X_j$  
</div>





# Motivation

- Challenging to interpret because they are in the <b> log-odds </b> scale

- Conducted a literature review and found a letter by Rajeev Kumar Malhotra that highlighted critical errors in interpreting the results of logistic regression

. . .

<div style="height: 40px;"></div>


- Several occurrences of the misinterpretation of odds ratios (OR)


<ul style="list-style-type: none; padding-left: 40px;">
  <li style="text-indent: -15px; margin-bottom: 40px;">
    &#8594; Treated ORs as direct probabilities or relative risk (RR)
  </li>
  <li style="text-indent: -15px; margin-bottom: 40px;">
    <li style="text-indent: -15px; margin-bottom: 40px;">
    &#8594; Can lead to exaggerated conclusions about the strength of associations, particularly for common outcomes
</ul>

. . .

# Odds Ratio Misinterpreted as Relative Risk: Rampure et al. (2019)

- Authors examined a common outcome of alcohol relapse (prevalence = 55.4\%)


![](https://raw.githubusercontent.com/BelinaJang/lrfd/main/images/paper1.png){style="border: 5px solid black; display: block; margin: 0 auto; width: 1000px; height: auto"}

#

<span style="font-size: 90px;">Misinterpretation:</span>

<div style="border: 2px solid black; background-color: #ffe7e6; padding: 15px; font-size: 50px; border-radius: 5px;">
  "People with a high level of craving have 1.8 times the chance of relapse compared to low craving."
</div>


&nbsp;&nbsp;&nbsp;&nbsp;

The statement misinterpreted the OR (1.78, 95% CI: 1.25-2.54) as the RR.

<br><br>

. . .

<span style="font-size: 90px;">Correct Interpretation: </span>

<div style="border: 2px solid black; background-color: #e6ffee; padding: 15px; font-size: 50px; border-radius: 5px;">
  “The odds of relapse among people with a high level of craving are 1.8 times greater than the odds of relapse among those with a low level of craving.”
</div>


# Odds Ratio Misinterpreted as Relative Risk: 
<span style="font-size: 70px;">Example 2: Madasu et al. (2019) </span>

<br><br>


![](https://raw.githubusercontent.com/BelinaJang/lrfd/main/images/paper2.png){style="border: 5px solid black; display: block; margin: 0 auto; width: 1000px; height: auto"}

#

<span style="font-size: 90px;">Misinterpretation:</span>

<div style="border: 2px solid black; background-color: #ffe7e6; padding: 15px; font-size: 50px; border-radius: 5px;">
  “Female sex was found to be two times more associated with anxiety disorders than male sex.”
</div>
  
<br><br>

. . .


<span style="font-size: 90px;">Correct Interpretation:</span>
  
<div style="border: 2px solid black; background-color: #e6ffee; padding: 15px; font-size: 50px; border-radius: 5px;">
“The odds of having anxiety disorder are twice as high for females compared to males.”
</div>


# Key Takeaway: Misinterpretation of Log Odds is More Pervasive than Expected


- Translating log odds into probabilities and risks can create confusion, often overestimating associations.

- This misinterpretation leads readers to perceive the effect as stronger than it truly is.


![](https://raw.githubusercontent.com/BelinaJang/logiSense/main/images/confused-bg.png){style="display: block; margin: 0 auto; width: 800px; height: auto;"}


# Purpose
To address this, we developed an R package designed to help non-statisticians accurately interpret the logistic regression models they create, which will help to close the gap in understanding.

<br><br>


Our package is called...

<script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>


<div style="display: flex; justify-content: center; align-items: center; width: 100%; text-align: center;">
  <dotlottie-player src="https://lottie.host/408dcc76-1281-4528-92bb-62f292cd31b9/lyAwiMogLs.lottie" 
background="transparent" 
speed="1.3" 
style="width: 500px; height: 500px;" 
loop autoplay>
  </dotlottie-player>
</div>


# `logiSense`


> `logiSense` is an R package for making sense of logistic regression results and helping users interpret results 

&nbsp;&nbsp;&nbsp;&nbsp;


We have two functions:

&nbsp;&nbsp;&nbsp;&nbsp;

<span style="font-size: 50px;">Function 1: `logis`</span>

- Provides logistic regression interpretation for models **without** interaction terms


&nbsp;&nbsp;&nbsp;&nbsp;


<span style="font-size: 50px;">Function 2: `logint`</span>

- Provides logistic regression interpretation for models with only **one** interaction term


# Arguments

<span style="font-size: 60px;">`logis`:</span>

  |  **Parameter**    | **Definition**                           | **Type** |
  |-------------------|------------------------------------------|----------|
  | formula           | Description of the model to be fitted    | formula  |
  | data              | Name of the data                         | data frame |
  | variable_interest | Variable name interested for interpretation | character |
  | variable_type     | Variable type interested for interpretation | character |

&nbsp;&nbsp;&nbsp;&nbsp;

<span style="font-size: 60px;">`logint`:</span>

  |  **Parameter**    | **Definition**                           | **Type** |
  |-------------------|------------------------------------------|----------|
  | formula           | Description of the model to be fitted    | formula |
  | data              | Name of the data                         | data frame |
  | categorical_var   | Categorical variable name interested for interpretation | character |
  | continuous_var    | Continuous variable name interested for interpretation | character |



## Example: Using `logiSense` with Stroke Prediction Dataset

- Used a Kaggle dataset on stroke prediction as a demo.

| **Variable Name**      | **Type**         |
|-------------------------|------------------|
| ID                     | Numeric/Integer  |
| Gender                 | Categorical      |
| Age                    | Numeric          |
| Hypertension           | Binary           |
| Heart Disease          | Binary           |
| Ever Married           | Categorical      |
| Work Type              | Categorical      |
| Residence Type         | Categorical      |
| Avg Glucose Level      | Numeric          |
| BMI                    | Numeric          |
| Smoking Status         | Categorical      |
| Cancer                 | Binary           |


# How to Use `logiSense`: Sample Data 

```{r}
```


# Existing Packages

<span style="font-size: 70px;">Overview of Similar Packages</span>


<span style="font-size: 40px;">`modelsummary`:</span>

- Presents coefficients in human-readable formats.  
- Directly interprets logistic regression outputs, including odds ratios.

<span style="font-size: 40px;">`sjPlot`:</span>

- Displays odds ratios, significance stars, and confidence intervals.  
- Outputs publication-ready tables and visualizations.

<span style="font-size: 40px;">`gtsummary`:</span>

- Converts logistic regression coefficients to odds ratios.
- Customizable labels, formats, and output styles.

<span style="font-size: 40px;">`performance`:</span>

- Assesses model performance and diagnostics.


# Strengths: What Sets Our Package Apart

<span style="font-size: 70px;">Gap in the Existing Packages: </span>

- While existing packages address **model performance** and **visualization**, **no existing package** is designed for comprehensive and direct interpretation of regression results.

&nbsp;&nbsp;&nbsp;&nbsp;

- `logiSense` focuses on **direct interpretation** of regression results.
- Simplifies statistical output for non-technical users.
- Bridges the gap between technical output and research insights.



## Comparison Table

&nbsp;&nbsp;&nbsp;&nbsp;

**Table 1.** Comparison of existing packages with logiSense.

| Feature                      | `modelsummary` | `sjPlot`  | `gtsummary` | `performance` | `logiSense` |
|------------------------------|--------------|---------|-----------|-------------|------------------|
| Human-readable coefficients  | ✅           | ✅      | ✅        | ❌          | ✅               |
| Odds ratio interpretation    | ✅           | ✅      | ✅        | ❌          | ✅               |
| User-friendly outputs        | ❌           | ✅      | ✅        | ❌          | ✅               |
| Model performance diagnostics| ❌           | ❌      | ❌        | ✅          | ❌               |
| Direct interpretation tools  | ❌           | ❌      | ❌        | ❌          | ✅               |


# Challenges

- We originally underestimated the challenges associated with generating different interpretations for different variable types.


# Remaining Work

- Implementation of interaction interpretations:
  - Currently limited to **continuous by categorical interactions**.
  - Need to add interpretations for:
    - **Continuous by continuous interactions.**
    - **Categorical by categorical interactions.**
- Conduct more rigorous tests.
- Complete the documentation.



# Future Directions

&nbsp;&nbsp;&nbsp;&nbsp;

| **Feature**                  | **Currently Supports**                                     | **Future Goals**                                                |
|-------------------------------|----------------------------------------------------------|-----------------------------------------------------------------|
| **Enhanced Functionality**   | Models with overall effects and one two-way interaction   | Extend to handle a broader range of models                     |
| **Automatic Variable Type Detection** | Manual input of variable types                        | Implement automatic detection for improved usability           |
| **More Complex Interactions**| Logistic regression with two-way interaction             | Support for higher-order interactions between variables         |
| **Beyond Logistic Regression**| Only logistic regression                                 | Extend to Poisson regression and multinomial logistic regression|




## Beyond Logistic Regression

- Potential extensions:  
  - **poisson regression** for count data 
  - **logistic regression** for multinomial response variables



## References
  
<div style="text-indent: -0.5in; margin-left: 0.5in;">
<em>Analytics Vidhya.</em> (n.d.) <em>McKinsey analytics online hackathon</em>. Retrieved November 29, 2024, from<a href="https://www.analyticsvidhya.com/datahack/contest/mckinsey-analytics-online-hackathon/">https://www.analyticsvidhya.com/datahack/contest/mckinsey-analytics-online-hackathon/</a>
</div>

<div style="text-indent: -0.5in; margin-left: 0.5in;">
Luo, S., & Ren, H. (2020). <em>A novel framework for ...</em>. In <em>Proceedings of the IEEE Conference on Machine Learning Applications</em> (pp. 1–7). IEEE. <a href="https://doi.org/10.1109/9264165">https://doi.org/10.1109/9264165</a>
</div>

<div style="text-indent: -0.5in; margin-left: 0.5in;">
Putra, L. (n.d.). <em>Working during COVID-19 epidemic concept: Portrait of stressed man doctor cartoon character wearing working uniform feeling stressed with laptop and paper in front of him</em> Vecteezy. <a href="https://www.vecteezy.com/vector-art/15708435-working-during-covid-19-epidemic-concept-portrait-of-stressed-man-doctor-cartoon-character-wearing-working-uniform-feeling-stressed-with-laptop-and-paper-in-front-of-him">https://www.vecteezy.com/vector-art/15708435-working-during-covid-19-epidemic-concept-portrait-of-stressed-man-doctor-cartoon-character-wearing-working-uniform-feeling-stressed-with-laptop-and-paper-in-front-of-him</a>
</div>
  

<div style="text-indent: -0.5in; margin-left: 0.5in;">
Phil. (2021, October 27). <em>Logistic regression output advice</em>. Stack Overflow. <a href="https://stackoverflow.com/questions/69736261/logistic-regression-output-advice">https://stackoverflow.com/questions/69736261/logistic-regression-output-advice</a>
</div>

<div style="text-indent: -0.5in; margin-left: 0.5in;">
Soriano, F. (n.d.). <em>Stroke prediction dataset</em> Kaggle. <a href="https://www.kaggle.com/datasets/fedesoriano/stroke-prediction-dataset/data">https://www.kaggle.com/datasets/fedesoriano/stroke-prediction-dataset/data</a>
</div>


# Contributions



  
  
# Thank you page
  
